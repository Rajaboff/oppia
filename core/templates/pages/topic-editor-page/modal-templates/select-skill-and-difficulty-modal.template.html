<!-- Select Skill View -->
<div ng-if="currentMode === 'MODE_SELECT_SKILL'">
  <div class="modal-header">
    <h3 ng-if="skillSummaries.length == 0">
     Нет навыков, связанных с темой
    </h3>
    <h3 ng-if="skillSummaries.length > 0">
      <[instructionMessage]>
    </h3>
  </div>
  <div class="modal-body select-skill-modal protractor-test-skill-select-modal">
    <div ng-if="skillSummaries.length == 0">
      Вы можете создавать вопросы только для тем, к которым привязан хотя бы один навык. Пожалуйста, свяжите навык с этой темой, прежде чем добавлять вопросы.
    </div>
    <div class="list-group">
      <md-card layout="row" class="list-view-item">
        Поиск по навыкам
        <input type="text" class="form-control" placeholder="Enter a skill name" ng-model="skillFilterText" autofocus>
      </md-card>
      <div class="skill-summary-container">
        <a class="list-group-item protractor-test-skill-item"
           ng-repeat="skillSummary in skillSummariesInitial | filter:skillFilterText"
           ng-click="selectOrDeselectSkill(skillSummary)"
           ng-class="{'list-group-item-success': (isSkillSelected(skillSummary.id))}">
          <label class="list-group-item-heading"><[skillSummary.description]></label>
        </a>
        <hr ng-if="skillSummariesInitial.length > 0">
        <a class="list-group-item protractor-test-skill-item"
           ng-repeat="skillSummary in skillSummariesFinal | filter:skillFilterText"
           ng-click="selectOrDeselectSkill(skillSummary)"
           ng-class="{'list-group-item-success': (isSkillSelected(skillSummary.id))}">
          <label class="list-group-item-heading"><[skillSummary.description]></label>
        </a>
      </div>
    </div>
  </div>
  <div class="modal-footer" ng-switch="skillSummaries.length > 0">
    <div ng-switch-when="true">
      <button class="btn btn-secondary" ng-click="cancel()"> Отмена </button>
      <button class="btn btn-success protractor-test-confirm-skill-button"
              ng-disabled="selectedSkillIds.length === 0"
              ng-click="goToNextStep()"> Следующий
      </button>
    </div>
    <div ng-switch-when="false">
      <button class="btn btn-secondary" ng-click="cancel()"> Ок </button>
    </div>
  </div>
</div>
<!-- Select Difficulty View -->
<div ng-if="currentMode === 'MODE_SELECT_DIFFICULTY'">
  <div class="modal-header">
    <h3 ng-if="linkedSkillsWithDifficulty.length == 0">
      Выберите навыки, которые вы хотите связать с вопросом.
    </h3>
    <h3 ng-if="linkedSkillsWithDifficulty.length > 0">
      Выберите сложность для каждого навыка (рядом с указанием рубрики для каждой сложности):
    </h3>
  </div>
  <div class="modal-body select-skill-modal">
    <div ng-if="linkedSkillsWithDifficulty.length == 0">
      Вы можете установить сложность только после выбора навыков, связанных с вопросом. Вернитесь и свяжите навык (-а) с этим вопросом.
    </div>
    <div class="list-group">
      <div class="list-group-item"  ng-repeat="skillWithDifficulty in linkedSkillsWithDifficulty track by $index">
        <label class="list-group-item-heading skill-description"><[skillWithDifficulty.getDescription()]></label>
        <question-difficulty-selector skill-id-to-rubrics-object="skillIdToRubricsObject"
                                      skill-with-difficulty="skillWithDifficulty">
        </question-difficulty-selector>
      </div>
    </div>
  </div>
  <div class="modal-footer" ng-switch="linkedSkillsWithDifficulty.length > 0">
    <div ng-switch-when="true">
      <button class="btn btn-secondary" ng-click="cancel()"> Отмена </button>
      <button class="btn btn-success protractor-test-confirm-skill-difficulty-button"
              ng-disabled="linkedSkillsWithDifficulty.length === 0"
              ng-click="startQuestionCreation()"> Сделано
      </button>
    </div>
    <div ng-switch-when="false">
      <button class="btn btn-secondary" ng-click="goToSelectSkillView()"> Назад </button>
    </div>
  </div>
</div>
<style>
  .select-skill-modal .skill-summary-container {
    max-height: 50vh;
    overflow-y: auto;
  }
  .select-skill-modal .skill-description {
    font-size: 1em;
  }
</style>
